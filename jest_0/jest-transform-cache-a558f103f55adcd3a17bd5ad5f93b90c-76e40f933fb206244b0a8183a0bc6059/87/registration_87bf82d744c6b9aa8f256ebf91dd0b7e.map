{"version":3,"sources":["registration.js"],"names":["passwordLength","min","max","matchesPassword","RegisterForm","React","Component","onSubmit","values","password","username","firstName","lastName","user","loginInfo","props","dispatch","then","render","handleSubmit","Input","required","nonEmpty","isTrimmed","pristine","submitting","form","onSubmitFail","errors","Object","keys"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Field, reduxForm, focus } from 'redux-form';\nimport { registerUser } from '../actions/register';\nimport { loginUser } from '../actions/auth';\nimport { required, nonEmpty, matches, length, isTrimmed } from '../utils/validators';\nimport Input from \"./input\";\nconst passwordLength = length({ min: 10, max: 72 });\nconst matchesPassword = matches('password');\n\nclass RegisterForm extends React.Component {\n\n  onSubmit(values) {\n    let { password, username, firstName, lastName } = values;\n    let user = { password, username, firstName, lastName };\n    let loginInfo = { password, username }\n    return this.props\n      .dispatch(registerUser(user))\n      .then(() => this.props.dispatch(loginUser(loginInfo)))\n\n  }\n  render() {\n    // let error;\n    // if (this.props.error) {\n    //   error = (\n    //     <div className=\"form-error\" aria-live=\"polite\">\n    //       {this.props.error}\n    //     </div>\n    //   );\n    // }\n    return (\n      <Form\n        className=\"registration-form\"\n        name=\"registration-form\"\n        onSubmit={this.props.handleSubmit(values =>\n          this.onSubmit(values))}>\n        {/*error*/}\n        <Field\n          className=\"firstName input-field\"\n          placeholder=\"First Name\"\n          name=\"firstName\"\n          component={Input}\n          type=\"text\" />\n        <Field\n          className=\"lastName input-field\"\n          placeholder=\"Last Name\"\n          name=\"lastName\"\n          component={Input}\n          type=\"text\" />\n        <Field\n          className=\"username input-field\"\n          placeholder=\"Username\"\n          name=\"username\"\n          component={Input}\n          type=\"text\"\n          validate={[required, nonEmpty, isTrimmed]} />\n        <Field\n          className=\"password input-field\"\n          placeholder=\"Password\"\n          name=\"password\"\n          component={Input}\n          type=\"password\"\n          validate={[required, nonEmpty, isTrimmed, passwordLength]} />\n        <Field\n          className=\"confirm-password input-field\"\n          placeholder=\"Confirm Password\"\n          name=\"confirm-password\"\n          component={Input}\n          type=\"password\"\n          validate={[required, nonEmpty, isTrimmed, matchesPassword]} />\n        <button\n          type=\"submit\"\n          className=\"register-button on-left\"\n          disabled={this.props.pristine || this.props.submitting}>\n          Register</button>\n      </Form>)\n  }\n}\n\nexport default reduxForm({\n  form: 'registration-form',\n  onSubmitFail: (errors, dispatch) =>\n    dispatch(focus('registration-form', Object.keys(errors)[0]))\n})(RegisterForm);"]}