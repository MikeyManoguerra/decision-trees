{"version":3,"sources":["register.js"],"names":["registerUser","user","dispatch","fetch","API_BASE_URL","method","headers","body","JSON","stringify","then","res","json","catch","err","reason","message","location","Promise","reject","SubmissionError"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEO,MAAMA,YAAY,GAAGC,IAAI,IAAIC,QAAQ,IAAI;AAC5C,SAAOC,KAAK,CAAE,GAAEC,oBAAa,QAAjB,EAA0B;AAClCC,IAAAA,MAAM,EAAE,MAD0B;AAElCC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX,KAFyB;AAKlCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;AAL4B,GAA1B,CAAL,CAOFS,IAPE,CAOGC,GAAG,IAAI,oCAAwBA,GAAxB,CAPV,EAQFD,IARE,CAQGC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EARV,EASFC,KATE,CASIC,GAAG,IAAI;AAAA,UACFC,MADE,GAC4BD,GAD5B,CACFC,MADE;AAAA,UACMC,OADN,GAC4BF,GAD5B,CACME,OADN;AAAA,UACeC,QADf,GAC4BH,GAD5B,CACeG,QADf;;AAEV,QAAIF,MAAM,KAAK,iBAAf,EAAkC;AAC9B;AACA,aAAOG,OAAO,CAACC,MAAR,CACH,IAAIC,0BAAJ,CAAoB;AAChB,SAACH,QAAD,GAAYD;AADI,OAApB,CADG,CAAP;AAKH;AACJ,GAnBE,CAAP;AAoBH,CArBM","sourcesContent":["import { SubmissionError } from 'redux-form';\nimport { API_BASE_URL } from '../config';\nimport { normalizeResponseErrors } from '../utils';\n\nexport const registerUser = user => dispatch => {\n    return fetch(`${API_BASE_URL}/users`, {\n        method: 'POST',\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(res => normalizeResponseErrors(res))\n        .then(res => res.json())\n        .catch(err => {\n            const { reason, message, location } = err;\n            if (reason === 'ValidationError') {\n                //Convert ValidationErrors into SubmissionErrors for Redux Form\n                return Promise.reject(\n                    new SubmissionError({\n                        [location]: message\n                    })\n                );\n            }\n        });\n};"]}